<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mah√© <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
-->
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
    <!--This one seems to work all the time, but really small on ipad-->
    <!--<meta name="viewport" content="initial-scale=0.4">-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" media="all" href="theme/css/default.css">
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
    <link rel="stylesheet" media="all" href="custom.css">
    <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
    <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

    <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="images/finn-logo.png"></aside>

        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
        <hgroup class="auto-fadein">
            <h1 data-config-title><!-- populated from slide_config.json --></h1>
            <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
            <p data-config-presenter><!-- populated from slide_config.json --></p>
        </hgroup>
    </slide>

    <slide>
        <article class="flexbox vleft">
            <ul>
                <li>Code: <a href="https://github.com/Kotlin/kotlin-koans">https://github.com/Kotlin/kotlin-koans</a></li>
                <li>
                    <ul>
                        <li>'master' is starting point for exercises</li>
                        <li>'resolutions' for solution</li>
                    </ul>
                </li>
            </ul>

            <ul>
                <li>Slides: <a href="https://mariatsji.github.io/kotlin-workshop">https://mariatsji.github.io/kotlin-workshop</a></li>
            </ul>

            <ul>
                <li>Techday program: <a href="http://tech-day.finntech.no/">http://tech-day.finntech.no/</a></li>
                <li>
                    <ul>
                        <li>Lunch at 11:45</li>
                    </ul>
                </li>
            </ul>
        </article>
    </slide>

    <slide>
            <img src="images/kotlin_bridge.jpg" style="width: 100%; height: 99%;">
    </slide>


    <slide>
        <hgroup><h2>About Kotlin</h2></hgroup>
        <article>
            <p><img width="700" src="images/kotlin_wikipedia.png" /></p>
            <ul class="build">
                <li>Created by JetBrains in 2011</li>
                <li>Object-Oriented</li>
                <li>Functional Programming</li>
            </ul>
        </article>
    </slide>

    <slide>
        <hgroup><h2>About Kotlin</h2></hgroup>
        <article>
            <ul class="build">
                <li>Concise</li>
                <li>Safe</li>
                <li>Interop-able</li>
                <li>Fast compiles</li>
                <li>Tool-friendly</li>
            </ul>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Hello World</h2>
        </hgroup>
        <article>
        <pre class="prettyprint">class Greeter(val name : String) {
    fun greet() {
        println("Hello, ${name}")
    }
}

fun main(args : Array&lt;String&gt;) {
    Greeter("World").greet()
}</pre>
        </article>
    </slide>

    <slide>
        <hgroup>
            <h2>Classes and members</h2>
        </hgroup>
            <article>
                <pre class="prettyprint">class Greeter(private val name : String) {
    private var counter = 0

    fun getGreeting(includeNumber: Boolean): String {
        return if (includeNumber) {
            "Hello, ${name}. Greeting message nr ${counter++}"
        } else {
            "Hello, ${name}"
        }
    }
}

fun main(args : Array&lt;String&gt;) {
    Greeter("World").getGreeting(true)
}</pre>
            </article>
    </slide>

    <slide>
        <hgroup><h2>Default and named arguments</h2></hgroup>
        <article>
        <p>Kotlin has both default and named arguments. This allows class definitions that are concise and precise</p>
        <pre class="prettyprint kotlin">
data class Person(val name: String, val country: String = "Norway", val age : Int = 18)
</pre>
    <p>So, creating a new Person where you're fine with the default country, but want to change the age?</p>
    <pre class="prettyprint kotlin">Person(name = "Arne Scheie", age = 73)</pre>
    <p>A person from Norway of age 18 could be created by</p>
    <pre class="prettyprint kotlin">Person("Some name")</pre>
    <p>Whereas an empty constructor would give a compile error</p>
    <pre class="prettyprint kotlin">Person()
>>> error: no value passed for parameter 'name'        
    </pre>
    </article>
    </slide>

    <slide>
        <hgroup><h2>Same thing in Java</h2></hgroup>
        <article>
            <p>Java version of the same would've looked like this. equals, hashCode, getters excluded for some brevity</p>
            <pre class="prettyprint java">public Person {
    final String name;
    final String country;
    final Integer age;
    public Person(String name) {
        this(name, "Norway", 18);
    }
    public Person(String name, String country) {
        this(name, country, 18);
    }
    public Person(String name, Integer age) {
        this(name, "Norway", age);
    }
    public Person(String name, String country, Integer age) {
        this.name = name;
        this.country = country
        this.age = age;
    }
}</pre>
</article>
</slide>

    <slide>
        <hgroup><h2>Lambdas</h2></hgroup>
        <article>
        <pre class="prettyprint">    val verboseLambda : (Int) -> Boolean =
            { i : Int ->
                println("lambda invoked")
                i % 2 == 0
            }
    val result = verboseLambda(4)

    // type inference
    val tinyNumbers = listOf(1,2,3,4).filter{ n -> n < 3 }

    // single argument sugar
    val conciseLambda = listOf(1,2,3).filter{ it > 0}</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2></h2></hgroup>
    </slide>

    <slide>
        <hgroup><h2>Nullable Types I</h2></hgroup>
        <article>
            <pre class="prettyprint">    var a: String = "abc"
    a = null // compilation error

    val b: String? = "abc"
    b = null</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>Nullable Types II</h2></hgroup>
        <article>
                <pre class="prettyprint">    var b : String? = "dog"

    var l = b.length //does not compile

    if (b != null && b.isNotEmpty()) {
        print("String of length ${b.length}")
    } else {
        print("Empty string")
    }</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>Nullable Types III</h2></hgroup>
        <article>
            <pre class="prettyprint">        val b: String? = null

        val length1: Int? = b.length // compilation error

        val length2: Int? = b!!.length // NPE

        val length: Int? = b?.length // good</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>Nullable Types IV</h2></hgroup>
        <article>
            <pre class="prettyprint">
    data class SmallCompany(var employee: Person? = null)
    data class Person(var middleName: String? = null)

    val middleName: Int? =
                SmallCompany().employee?.middleName?.length // null</pre></article>
    </slide>

    <slide>
        <hgroup><h2>Nullable Types V</h2></hgroup>
        <article>
            <pre class="prettyprint">
    val a: String = "I am no integer"
    val aInt: Int? = a as? Int // null

    listOf(1, null, 4).filterNotNull() // [1,4]</pre></article>
    </slide>

    <slide>
        <hgroup><h2>Smart Casts</h2></hgroup>
        <article>
                <pre class="prettyprint">fun smartCast1(x: Any) {
    if (x is String) {
        print(x.length) // x is automatically cast to String
    }
}


fun smartCast2(x: Any) {
    if (x !is String) return
    print(x.length) // x is automatically cast to String
}</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>When-expression (Pattern Matching)</h2></hgroup>
        <article>
                <pre class="prettyprint">when (x) {
    is String -> println(x.length) // Smart casts work for when-expressions
    in 1..10 -> println("x is in the range 1..10")
    is IntArray -> println(x.sum())
    else -> println("x is unknown")
}</pre>
        </article>
    </slide>


    <slide>
        <hgroup><h2>Object Expressions and Declarations I</h2></hgroup>
        <article>
                <pre class="prettyprint">// Object Expression ~= anonymous inner classes in Java
window.addMouseListener(object : MouseAdapter() {
    override fun mouseClicked(e: MouseEvent) {
        // ...
    }
})</pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>Object Expressions and Declarations II</h2></hgroup>
            <article>
                <pre class="prettyprint">class Car(val color = "blue") // Class

object Lock { // Object declaration
    val i = 3
}

val myObject: Any = object { // Object expression
    val i = 5
}

println(Car().color)
println(Lock.i)
println(myObject.i)</pre>
            </article>
    </slide>

    <slide>
        <hgroup><h2>Object Expressions and Declarations III</h2></hgroup>
            <article>
                <pre class="prettyprint">class MyClass {
    companion object Factory {
        fun create(): MyClass = MyClass()
    }
}

MyClass.create() // access as if "static" in class</pre>
            </article>
    </slide>

    <slide>
        <hgroup><h2>Extension functions</h2></hgroup>
        <article>
            <p>Kotlin allows you to write custom extensions for any class. This is a power that needs to be used carefully, or you'll end up in extension hell; Kotlin's version of implicits hell</p>
            <pre class="prettyprint kotlin">
fun List&lt;Int&gt;.largerThanN(n: Int) = this.filter { it > n }
listOf(5, 7, 8, 11, 1, 2, 3).largerThanN(5)
>>> [7, 8, 11]
            </pre>
        </article>
    </slide>
    <slide>
        <hgroup><h2>Extension properties</h2></hgroup>
        <article>
            <p>Kotlin also supports extension properties.</p>
        <pre class="prettyprint kotlin">
val &lt;T&gt; List&lt;T&gt;.lastIndex: Int
get() = size - 1

listOf(1,2,3,4,5).lastIndex
>>> 4
            </pre>
        </article>
    </slide>
    <slide>
        <hgroup><h2>Collections I - Immutability</h2></hgroup>
        <article>
            <p>Kotlin's collections are immutable by default, so default constructors returns an immutable collection</p>
            <pre class="prettyprint kotlin">
val x = listOf(1)
x.add(2)
>>> error: unresolved reference: add
val y = x + 2
>>> y: [1,2]
x
>>> x: [1]
            </pre>
            </article>
            </slide>

            <slide>
                <hgroup><h2>Collections II - Mutable</h2></hgroup>
                <article>
            <p>If you want a mutable list you'll have to explicitly ask for it, and a mutable list works much like java's. The add method returns a boolean saying whether or not the object was added</p>
            <pre class="prettyprint kotlin">
val x = mutableListOf(1)
>>> [1]
x.add(2)
x
>>> [1,2]
            </pre>
        </article>
    </slide>

    <slide>
        <hgroup><h2>Collections III - Functional</h2></hgroup>
        <article>
            <p>They also support the usual functional collection suspects</p>
            <pre class="prettyprint kotlin">
val exampleList = listOf(1,2,3,4,5)                
val x = exampleList.reduce { acc, el -> acc + el }                
>>> x: Int
x
>>> 15
val y = exampleList.groupBy { it % 2 == 0 }
>>> y: Map&lt;Bool, List&lt;Int&gt;&gt;
y
>>> {false=[1,3,5], true=[2,4]}
            </pre>
        </article>
    </slide>
    <slide>
        <hgroup><h2>Collections IV - Reduced verbosity</h2></hgroup>
        <article>
            <p>Java groupby</p>
            <pre class="prettyprint java">
roster
    .stream()
    .collect(
    Collectors.groupingBy(
        Person::getGender,                      
        Collectors.mapping(
        Person::getName,
        Collectors.toList()))
        );
            </pre>
            <p>Kotlin groupBy</p>
            <pre class="prettyprint kotlin">
val groupedBy: Map&lt;K, List&lt;V&gt;&gt; = roster.groupBy(
    keySelector: (T) -> K = {it.gender},
    valueTransform: (T) -> V = {it.name}
)                
            </pre>
        </article>
    </slide>
    <slide class="thank-you-slide segue nobackground">
        <article class="flexbox vleft">
            <h2>Thanks!</h2>
            <br><br>
            <h2>Questions?</h2>
        </article>
        <p class="auto-fadein" data-config-contact>
            <!-- populated from slide_config.json -->
        </p>
    </slide>


    <slide class="backdrop"></slide>

    </slides>

<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
